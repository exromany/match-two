(this["webpackJsonpmatch-two"]=this["webpackJsonpmatch-two"]||[]).push([[0],{39:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(12),o=n.n(i),a=n(22),l=n(25),u=n.n(l),d=n(4),s=n(27),b=Array.from({length:36},(function(e,t){return"".concat(t%18+1)})),h=function(){return function(e){for(var t=Object(s.a)(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),c=[t[r],t[n]];t[n]=c[0],t[r]=c[1]}return t}(b).map((function(e){return{value:e}}))},f=d.b.model({value:d.b.string,opened:!1,matched:!1,visible:!0}).actions((function(e){return{open:function(){e.opened=!0,Object(d.a)(e,2).match(e)},close:function(){e.opened=!1},hide:function(){e.visible=!1}}})),m=d.b.model({tiles:d.b.optional(d.b.array(f),h()),moves:0,startedTime:d.b.maybeNull(d.b.Date),finishedTime:d.b.maybeNull(d.b.Date),openedTileIndex:d.b.maybeNull(d.b.number),closeTimer:d.b.maybeNull(d.b.number),hideTimer:d.b.maybeNull(d.b.number)}).actions((function(e){return{restart:function(){e.tiles=h(),e.moves=0,e.startedTime=null,e.finishedTime=null,e.openedTileIndex=null,clearTimeout(e.closeTimer),clearTimeout(e.hideTimer)},match:function(t){if(e.startedTime||(e.startedTime=Date.now()),null===e.openedTileIndex)return e.openedTileIndex=e.tiles.indexOf(t),void e.closeAll(t);var n=e.tiles[e.openedTileIndex];n!==t&&(e.moves+=1,e.openedTileIndex=null,t.value===n.value?(t.matched=!0,n.matched=!0,e.checkFinal(),e.hideTimer=setTimeout(e.hideMatched,500)):e.closeTimer=setTimeout(e.closeAll,1500))},closeAll:function(t){clearTimeout(e.closeTimer),e.tiles.filter((function(e){return e!==t})).forEach((function(e){return e.close()}))},hideMatched:function(){e.tiles.filter((function(e){return e.matched})).forEach((function(e){return e.hide()}))},checkFinal:function(){!e.finishedTime&&e.tiles.every((function(e){return e.matched}))&&(e.finishedTime=Date.now())}}})).create(),j=Object(r.createContext)(null),v=j.Provider;function x(){var e=Object(r.useContext)(j);if(null===e)throw new Error("Store cannot be null, please add a context provider");return e}var p=n(3),O=n(18),T=n(2),w=function(){return Object(T.jsx)(p.a,{sx:{background:"#c7d1ec",width:"100%",height:"100%"}})},g=function(e){var t=e.value;return Object(T.jsx)(p.a,{children:Object(T.jsx)(p.d,{children:t})})},y=function(e){var t=e.value,n=e.opened,r=e.matched,c=e.visible,i=e.onClick;return Object(T.jsx)(p.c,{sx:{height:80,borderRadius:4,boxShadow:c?"0 0 2px rgba(0, 0, 0, .125)":void 0,alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:c?"pointer":void 0,userSelect:"none",color:r?"red":"black"},onClick:i,children:c&&(n?Object(T.jsx)(g,{value:t}):Object(T.jsx)(w,{}))})},k=Object(O.a)((function(){var e=x().tiles;return Object(T.jsx)(p.c,{flexWrap:"wrap",children:e.map((function(e,t){return Object(T.jsx)(p.a,{width:1/6,p:2,children:Object(T.jsx)(y,{value:e.value,opened:e.opened,matched:e.matched,visible:e.visible,onClick:function(){return e.open()}})},"".concat(e.value,"-").concat(t))}))})})),I=n(26),S=function(e){var t=Math.floor(e/1e3)%60,n=Math.floor(e/1e3/60);return"".concat(String(n).padStart(2,0),":").concat(String(t).padStart(2,0))},C=Object(O.a)((function(){var e=x(),t=e.moves,n=e.startedTime,c=e.finishedTime,i=e.restart,o=Object(r.useState)(0),a=Object(I.a)(o,2),l=a[0],u=a[1];return Object(r.useEffect)((function(){if(n&&!c){var e=setInterval((function(){var e=Date.now()-n;u(e)}),200);return function(){return clearInterval(e)}}}),[n,c]),Object(r.useEffect)((function(){n&&c?u(c-n):u(0)}),[n,c]),Object(T.jsxs)(p.a,{p:2,children:[Object(T.jsx)(p.a,{children:Object(T.jsxs)(p.d,{children:["time: ",S(l)]})}),Object(T.jsx)(p.a,{children:Object(T.jsxs)(p.d,{children:["moves: ",t]})}),c&&Object(T.jsx)(p.a,{children:Object(T.jsx)(p.b,{variant:"primary",onClick:i,children:"Start again"})})]})}));var M=function(){return Object(T.jsx)(a.a,{theme:u.a,children:Object(T.jsxs)(v,{value:m,children:[Object(T.jsx)(k,{}),Object(T.jsx)(C,{})]})})};o.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(M,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.d2b33647.chunk.js.map